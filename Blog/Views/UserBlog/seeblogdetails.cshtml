@model Blog.Models.Blog

@{
    Layout = "~/Views/Shared/_Layout.cshtml";

}
@{ 
    var comments = ViewBag.comments;
}
 
<div class="container">
    <div>
        <div class="form-group">
            <a href="#" onClick="javascript:history.back(-1);">
                <span class="glyphicon glyphicon-backward" style="font-size:large">返回</span>
            </a>
        </div>
    </div>
    <div class="container">
        <div class="col-lg-3">
            <ul class="list-group" id="ueserfunction">
                <li class="list-group-item">
                    <a href="~/UserBlog/seeuserdetails?BloggerID=@ViewData["BloggerID"]"><img class="img-responsive" id="head" name="head" src="~/File/Images/@ViewData["BloggerImage"]" /></a>
                </li>
                <li class="list-group-item">用户名</li>
                <li class="list-group-item"><button type="button" class="btn btn-default btn-sm">加关注</button>
                <button type="button" class="btn btn-default btn-sm">写留言</button>
                <button type="button" class="btn btn-default btn-sm">发私信</button></li>  
                <li class="list-group-item">点赞数</li>
                <li class="list-group-item">粉丝数</li>
                <li class="list-group-item">留言数</li>
             </ul>
        </div>

        <div class="col-md-8">
            <form role="form">
                <div class="form-group">
                    <div style="font-size:larger"><h3>@Model.BlogTitle</h3></div>
                </div>
            </form>
            <br/>
            <form role="form">
                <div class="form-group">
                    <div>@Html.Raw(Model.BlogContent)</div>
                </div>
                <div>
                    <a href="~/UserBlog/comment?BlogID=@Model.BlogID&ReplyID=@Model.BloggerID">回复</a>
         
                    </div>
            </form>
            <br/><br /><br />
            @using (Html.BeginForm("like", "UserBlog", FormMethod.Post))
            {
                @Html.AntiForgeryToken()
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                <button type="submit" class="btn btn-default btn-sm" style="background: @ViewData["background"]">
                    <span class="glyphicon glyphicon-thumbs-up"></span> @ViewData["likescount"]
                </button>
                    <input id="Hidden1" name="LikeBlogID" value=@Model.BlogID type="hidden">
            }
            <div>
                <label for="name">所有评论：</label>
                <!-- 显示所有评论 -->
                @if (comments != null)
                {
                    foreach (var c in comments)
                    {
                      <div>
                        <p><a href="~/UserBlog/seeuserdetails?BloggerID=@c.UserID ">  @c.UserID </a>回复<a  href="~/UserBlog/seeuserdetails?BloggerID=@c.ReplyID "> @c.ReplyID </a>于：@c.CommentTime </p> 
                        <p>: @c.CommentContent<a href="~/UserBlog/comment?BlogID=@c.BlogID &ReplyID= @c.UserID">回复</a></p> 
                          <p>-------------------------------------------------------------------------------------------------------</p>                    
                     </div>
                
                    }
                }
            </div>
            <br />    
 
        </div>
    </div>
</div>
 